<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Cascadia+Code:ital,wght@0,200..700;1,200..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
    <script>
      window.initAutocomplete = function () {
        const input = document.getElementById('address-input');
        const autocomplete = new google.maps.places.Autocomplete(input, {
          types: ['address'],
          componentRestrictions: { country: 'us' }
        });
      };
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmwseo0ESKiivJzGaFsEEDYpkNIogL_TM&libraries=places&callback=initAutocomplete" async defer></script>
    

  <style>
    html,
    body {
      margin: 0 auto;
      height: 100%;
      display: block;
      width: 100%;
      background-image: linear-gradient(to right top, #a1a5ac, #00232d, #003c3b, #105535, #536922);
      overflow-x: hidden;
      color: #fff;
      font-size: 1.3rem;
      overflow-y: visible;
    }

    #big-container {
      font-family: Roboto, sans-serif;
      font-size: 1.8rem;
      margin: 0 auto;
      max-width: 800px;
      /* padding: 30px; */
      height: 100%;
      box-sizing: border-box;
    }

    h1 {
      font-family: Cascadia Code, sans-serif;
      font-size: 4rem;
      color: #fff;
      margin: 0;
      padding: 40px;
      text-align: center;
      text-shadow: #010710;
      font-weight: 700;
      text-decoration-color: #fff;
      text-decoration-thickness: 2px;
      text-underline-offset: 5px;
      text-shadow: 1px 2px 2px rgb(39, 3, 9);
    }

    h2 {
      font-family: Roboto, sans-serif;
      font-size: 2.5rem;
      color: #72ec0e;
      text-shadow: 1px 2px 2px #101010;
      margin: 0;
      padding: 40px;
      text-align: center;
    }

    h3 {
      font-family: Cascadia Code, sans-serif;
      font-size: 3rem;
      color: #fff;
      text-shadow: 1px 2px 2px #101010;
      padding: 20px;
      text-align: center;
    }

    h4 {
      font-family: Cascadia Code, sans-serif;
      font-size: 0.8rem;
      font-weight: 300;
      color: #fff;
      background-color: transparent;
      margin: 0;
      padding: 20px;
      text-align: left;
    }

    #interactive1 {
      text-align: center;
      margin-top: 100px;
      margin-bottom: 0px;
      align-items: center;
      width: 90%;
      height: 100%;
      color: #FFF;
    }

    #custom-output {
  display: none;
  opacity: 0;
  transition: opacity 0.6s ease-in-out;
  font-size: 1.8rem;
  padding: 30px;
  border-radius: 10px;
  background-color: #f1f4ee;
  color: #111010;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  margin: 30px auto 0;
  max-width: 600px;
  text-align: center;
}

#custom-output.visible {
  display: block;
  opacity: 1;
}

#result-text {
  font-size: 1.8rem;
  margin-bottom: 15px;
  text-align: center;
  font-weight: 500;
  text-shadow: 1px 2px 2px #f0f4ee;
  color: #111010;
}
    #address-input {
      width: 90%;
      padding: 10px;
      font-size: 1.2rem;
      border-radius: 1px;
      border: 2px solid #72ec0e;
      background-color: #fff;
      color: #000;
    }

    #floor-input {
      width: 90%;
      padding: 10px;
      font-size: 1.2rem;
      border-radius: 1px;
      border: 2px solid #72ec0e;
      background-color: #fff;
      color: #000;
    }

    #submit-button {
      background-color: #72ec0e;
      color: #000;
      border: none;
      padding: 10px 20px;
      font-size: 1.2rem;
      align-content: center;
      cursor: pointer;
      margin-top: 60px;
      display: block;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }

    #submit-button:hover {
      background-color: #fff;
      color: #000;
      border: 2px solid #72ec0e;
    }


    #watertankmap {
      padding: 5px;
      margin-top: 5px;
      text-align: center;
      background-color: #fff;
      border-radius: 1px;
    }

    .input-wrapper {
      position: relative;
    }

    .pac-container {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  z-index: 10000 !important;
}

    #address-input,
#floor-input,
#submit-button {
  display: block;
  margin: 10px auto;
  width: 90%;
  max-width: 500px;
  box-sizing: border-box;
  text-align: center;
}
  

    @media (max-width: 600px) {
      #big-container {
        padding: 20px;
      }

      #address-input,
      #floor-input,
      #submit-button {
        width: 100%;
        font-size: 1rem;
        padding: 12px;
        margin-top: 10px;
        box-sizing: border-box;
      }

      #custom-output {
        width: 100%;
        font-size: 1rem;
        padding: 0 10px;
      }

      iframe {
        width: 100% !important;
        height: 100vh !important;
        max-width: 100%;
      }

      #watertankmap {
        margin-top: 20px;
        padding-top: 40px;
        text-align: center;
      }

      h1 {
  font-size: 2.2rem;
  padding: 20px 10px;
  line-height: 1.2;
  word-break: break-word;
}

h2 {
  font-size: 1.5rem;
  padding: 20px 15px;
  line-height: 1.3;
}
    }

  
  </style>

</head>

<body>
  <div id="page-wrapper" style="min-height: 100vh; display: flex; flex-direction: column; justify-content: space-between;">
    <h1>How Clean is Your Drinking Water, Really?</h1>
    <h2>AN NYC TAP WATER INTERACTIVE</h2>

    <div id="big-container">
      <div id="interactive1">
        <p>Type your New York City address here:</p>
        <div class="input-wrapper">
          <input type="text" id="address-input" placeholder="Enter your address" autocomplete="off" />
        </div>
        <p>Do you live on the sixth floor or higher?</p>
        <input type="text" id="floor-input" placeholder="Enter yes or no" />

        <button id="submit-button">Submit</button>
      </div>

      <div id="custom-output" style="margin-top: 30px;">
        <p id="result-text"></p>
        <p>
          Click <a href="https://www.epa.gov/system/files/documents/2024-06/how-to-id-filters-certified-to-reduce-lead-in-drinking-water-epa_june-2024.pdf" target="_blank">here</a> to learn more about lead filters.
          Click <a href="https://www.nyc.gov/content/leadfree/pages/request-water-test-kit" target="_blank">here</a> to order a lead testing kit from the city.
          See below to explore the map of NYC water tanks with safety violations.
        </p>
      </div>
      <div id="watertankmap" style="display: none; margin-top: 20px;">
        <iframe title="NYC Water Tanks With 1 or More Safety Violations (2020-Present)"
                aria-label="Map"
                src="https://datawrapper.dwcdn.net/nBf2l/8/"
                scrolling="no"
                frameborder="0"
                style="width: 100%; border: none;"
                height="945"
                data-external="1">
        </iframe>
      </div>
    </div>
    <h4>Â©2025 Lizzie Walsh</h4>
  </div>
  

  <script>
       
    const Tankinfo =
      [
 {
   "ADDRESS_NORM": "100 centre street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "100 Centre street",
   "LATITUDE": 40.716084,
   "LONGITUDE": -74.001425,
   "ZIP": 10013,
   "# of Tanks": 2,
   "CENSUS_TRACT": 29,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "1020 fifth avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "1020 Fifth Avenue",
   "LATITUDE": 40.779558,
   "LONGITUDE": -73.961531,
   "ZIP": 10028,
   "# of Tanks": 1,
   "CENSUS_TRACT": 142,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "1056 fifth avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "1056 Fifth Avenue",
   "LATITUDE": 40.782107,
   "LONGITUDE": -73.959988,
   "ZIP": 10028,
   "# of Tanks": 1,
   "CENSUS_TRACT": 15002,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "1118 grand concourse",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "1118 Grand Concourse",
   "LATITUDE": 40.832232,
   "LONGITUDE": -73.919655,
   "ZIP": 10456,
   "# of Tanks": 1,
   "CENSUS_TRACT": 18102,
   "# OF VIOLATIONS": 3
 },
 {
   "ADDRESS_NORM": "121 west 27th st",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "121 West 27th St",
   "LATITUDE": 40.745831,
   "LONGITUDE": -73.991916,
   "ZIP": 10001,
   "# of Tanks": 1,
   "CENSUS_TRACT": 95,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "1220 fifth avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "1220 Fifth Avenue",
   "LATITUDE": 40.792438,
   "LONGITUDE": -73.952448,
   "ZIP": 10029,
   "# of Tanks": 1,
   "CENSUS_TRACT": 168,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "125 worth street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "125 worth street",
   "LATITUDE": 40.715428,
   "LONGITUDE": -74.002673,
   "ZIP": 10013,
   "# of Tanks": 1,
   "CENSUS_TRACT": 31,
   "# OF VIOLATIONS": 4
 },
 {
   "ADDRESS_NORM": "138 willoughby street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Violation",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "138 Willoughby Street",
   "LATITUDE": 40.692069,
   "LONGITUDE": -73.983135,
   "ZIP": 11201,
   "# of Tanks": 5,
   "CENSUS_TRACT": 15,
   "# OF VIOLATIONS": 3
 },
 {
   "ADDRESS_NORM": "140 east 72nd street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "140 East 72nd Street",
   "LATITUDE": 40.770533,
   "LONGITUDE": -73.962493,
   "ZIP": 10021,
   "# of Tanks": 1,
   "CENSUS_TRACT": 128,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "15 west 56th street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "15 West 56th Street",
   "LATITUDE": 40.76264,
   "LONGITUDE": -73.975258,
   "ZIP": 10019,
   "# of Tanks": 1,
   "CENSUS_TRACT": 11201,
   "# OF VIOLATIONS": 3
 },
 {
   "ADDRESS_NORM": "150 william street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "150 William Street",
   "LATITUDE": 40.709729,
   "LONGITUDE": -74.006255,
   "ZIP": 10038,
   "# of Tanks": 2,
   "CENSUS_TRACT": 1501,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "160 madison street",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "160 Madison Street",
   "LATITUDE": 40.712488,
   "LONGITUDE": -73.991924,
   "ZIP": 10002,
   "# of Tanks": 2,
   "CENSUS_TRACT": 6,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "181 convent avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Violation",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "181 Convent Avenue",
   "LATITUDE": 40.819574,
   "LONGITUDE": -73.949921,
   "ZIP": 10031,
   "# of Tanks": 2,
   "CENSUS_TRACT": 21703,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "201 east 62nd street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "201 East 62nd Street",
   "LATITUDE": 40.763296,
   "LONGITUDE": -73.964869,
   "ZIP": 10065,
   "# of Tanks": 1,
   "CENSUS_TRACT": 110,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "210 joralemon street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "210 Joralemon Street",
   "LATITUDE": 40.692459,
   "LONGITUDE": -73.990491,
   "ZIP": 11201,
   "# of Tanks": 2,
   "CENSUS_TRACT": 9,
   "# OF VIOLATIONS": 3
 },
 {
   "ADDRESS_NORM": "230 east 115th street",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "230 East 115th Street",
   "LATITUDE": 40.796689,
   "LONGITUDE": -73.939208,
   "ZIP": 10029,
   "# of Tanks": 1,
   "CENSUS_TRACT": 180,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "265 east 161 street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "265 east 161 street",
   "LATITUDE": 40.825928,
   "LONGITUDE": -73.919514,
   "ZIP": 10451,
   "# of Tanks": 1,
   "CENSUS_TRACT": 18302,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "300 jay street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "300 Jay Street",
   "LATITUDE": 40.695547,
   "LONGITUDE": -73.98714,
   "ZIP": 11201,
   "# of Tanks": 1,
   "CENSUS_TRACT": 13,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "301 east 66th street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "301 East 66th Street",
   "LATITUDE": 40.764846,
   "LONGITUDE": -73.960789,
   "ZIP": 10065,
   "# of Tanks": 1,
   "CENSUS_TRACT": 118,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "305 east 40th street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "305 East 40th Street",
   "LATITUDE": 40.748469,
   "LONGITUDE": -73.972954,
   "ZIP": 10016,
   "# of Tanks": 1,
   "CENSUS_TRACT": 88,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "31 chambers street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "31 Chambers street",
   "LATITUDE": 40.713402,
   "LONGITUDE": -74.004635,
   "ZIP": 10007,
   "# of Tanks": 1,
   "CENSUS_TRACT": 31,
   "# OF VIOLATIONS": 4
 },
 {
   "ADDRESS_NORM": "310 east 46th street",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "310 East 46th Street",
   "LATITUDE": 40.752154,
   "LONGITUDE": -73.969834,
   "ZIP": 10017,
   "# of Tanks": 1,
   "CENSUS_TRACT": 90,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "34-27 34th st",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Violation",
   "ADDRESS": "34-27 34th St",
   "LATITUDE": 40.758027,
   "LONGITUDE": -73.925263,
   "ZIP": 11106,
   "# of Tanks": 1,
   "CENSUS_TRACT": 57,
   "# OF VIOLATIONS": 3
 },
 {
   "ADDRESS_NORM": "345 adams street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "345 adams street",
   "LATITUDE": 40.6934,
   "LONGITUDE": -73.988915,
   "ZIP": 11201,
   "# of Tanks": 1,
   "CENSUS_TRACT": 11,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "35 hale street",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Violation",
   "SUM_ECOLI": "Violation",
   "ADDRESS": "35 hale street",
   "LATITUDE": 40.514811,
   "LONGITUDE": -74.236572,
   "ZIP": 10307,
   "# of Tanks": 1,
   "CENSUS_TRACT": 248,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "360 adams street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "360 adams street",
   "LATITUDE": 40.694122,
   "LONGITUDE": -73.988904,
   "ZIP": 11201,
   "# of Tanks": 1,
   "CENSUS_TRACT": 11,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "4 sutton place",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "4 Sutton Place",
   "LATITUDE": 40.757512,
   "LONGITUDE": -73.960576,
   "ZIP": 10022,
   "# of Tanks": 1,
   "CENSUS_TRACT": 10601,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "45 monroe place",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "45 monroe place",
   "LATITUDE": 40.695822,
   "LONGITUDE": -73.992802,
   "ZIP": 11201,
   "# of Tanks": 1,
   "CENSUS_TRACT": 502,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "455 east 57th street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "455 East 57th Street",
   "LATITUDE": 40.757809,
   "LONGITUDE": -73.961713,
   "ZIP": 10022,
   "# of Tanks": 1,
   "CENSUS_TRACT": 10601,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "47 east 88th street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "47 East 88th Street",
   "LATITUDE": 40.78198,
   "LONGITUDE": -73.95741,
   "ZIP": 10128,
   "# of Tanks": 1,
   "CENSUS_TRACT": 15002,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "520 12th ave",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "520 12th Ave",
   "LATITUDE": 40.762316,
   "LONGITUDE": -74.000036,
   "ZIP": 10036,
   "# of Tanks": 1,
   "CENSUS_TRACT": 129,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "53 east 66th street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "53 East 66th Street",
   "LATITUDE": 40.767746,
   "LONGITUDE": -73.967668,
   "ZIP": 10065,
   "# of Tanks": 1,
   "CENSUS_TRACT": 122,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "541 lexington avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "541 Lexington Avenue",
   "LATITUDE": 40.756162,
   "LONGITUDE": -73.972593,
   "ZIP": 10022,
   "# of Tanks": 1,
   "CENSUS_TRACT": 100,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "60 centre street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "60 centre street",
   "LATITUDE": 40.714467,
   "LONGITUDE": -74.002503,
   "ZIP": 10007,
   "# of Tanks": 2,
   "CENSUS_TRACT": 29,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "62 hanson place",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Violation",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "62 HANSON PLACE",
   "LATITUDE": 40.685414,
   "LONGITUDE": -73.975096,
   "ZIP": 11217,
   "# of Tanks": 1,
   "CENSUS_TRACT": 35,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "70 east 108th street",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "70 East 108th Street",
   "LATITUDE": 40.794429,
   "LONGITUDE": -73.947434,
   "ZIP": 10029,
   "# of Tanks": 2,
   "CENSUS_TRACT": 17401,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "720 park avenue",
   "SUM_SEDIMENT": "Meets standards",
   "SUM_BIOLOGICAL_GROWTH": "Meets standards",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "720 Park Avenue",
   "LATITUDE": 40.76995,
   "LONGITUDE": -73.964681,
   "ZIP": 10021,
   "# of Tanks": 1,
   "CENSUS_TRACT": 130,
   "# OF VIOLATIONS": 1
 },
 {
   "ADDRESS_NORM": "80 centre street",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Violation",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "80 Centre street",
   "LATITUDE": 40.715447,
   "LONGITUDE": -74.00189,
   "ZIP": 10013,
   "# of Tanks": 1,
   "CENSUS_TRACT": 29,
   "# OF VIOLATIONS": 4
 },
 {
   "ADDRESS_NORM": "812 fifth avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "812 Fifth Avenue",
   "LATITUDE": 40.766378,
   "LONGITUDE": -73.971459,
   "ZIP": 10065,
   "# of Tanks": 1,
   "CENSUS_TRACT": 11401,
   "# OF VIOLATIONS": 3
 },
 {
   "ADDRESS_NORM": "955 fifth avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Meets standards",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "955 Fifth Avenue",
   "LATITUDE": 40.775466,
   "LONGITUDE": -73.96483,
   "ZIP": 10075,
   "# of Tanks": 1,
   "CENSUS_TRACT": 130,
   "# OF VIOLATIONS": 2
 },
 {
   "ADDRESS_NORM": "969 fifth avenue",
   "SUM_SEDIMENT": "Violation",
   "SUM_BIOLOGICAL_GROWTH": "Violation",
   "SUM_DEBRIS_INSECTS": "Violation",
   "SUM_RODENT_BIRD": "Meets standards",
   "SUM_COLIFORM": "Meets standards",
   "SUM_ECOLI": "Meets standards",
   "ADDRESS": "969 Fifth Avenue",
   "LATITUDE": 40.776111,
   "LONGITUDE": -73.963992,
   "ZIP": 10075,
   "# of Tanks": 1,
   "CENSUS_TRACT": 142,
   "# OF VIOLATIONS": 3
 }
]
    let Leadinfo = null;

      // Load the full GeoJSON file, make sure to add ./ so it looks in the folder
      fetch('./lead-address-slim.geojson')
    .then(response => response.json())
    .then(data => {
      Leadinfo = data;
      console.log("Lead pipe data loaded.");
      Leadinfo.features.forEach(feature => {
  if (!feature?.properties?.address) {
    console.warn("Missing address in feature:", feature);
  }
});

    })
    .catch(error => console.error('Error loading lead pipe data:', error));

    function normalizeAddress(address) {
    return address.trim().toLowerCase().replace(/\s+/g, ' ');
  }

  function isNearDirtyTank(userAddress) {
    const userNorm = normalizeAddress(userAddress);
    const tank = Tankinfo.find(t => normalizeAddress(t.ADDRESS) === userNorm);
    return tank && tank["# OF VIOLATIONS"] > 0;
  }

  function hasLeadPipes(userAddress) {
  if (!Leadinfo) return false;
  const userNorm = normalizeAddress(userAddress);

  return Leadinfo.features.some(feature => {
    const addr = feature?.properties?.address;
    return addr && normalizeAddress(addr) === userNorm;
  });
}

  document.getElementById("submit-button").addEventListener("click", () => {
    const address = document.getElementById("address-input").value;
    const floorInput = document.getElementById("floor-input").value.toLowerCase();
    const isHighFloor = floorInput.includes("yes") || parseInt(floorInput) >= 6;

    if (!address) {
      document.getElementById("custom-output").innerText = "Please enter your address.";
      return;
    }

    const lead = hasLeadPipes(address);
    const tank = isHighFloor && isNearDirtyTank(address);

    const output = `Your apartment ${lead ? "DOES" : " does not"} have known lead pipes and ${tank ? "does" : " does not"} have a water tank with known health code violations.`;
    const outputBox = document.getElementById("custom-output");
document.getElementById("result-text").innerText = output;
outputBox.classList.add("visible");
document.getElementById("watertankmap").style.display = "block";
  });
  </script>

  <script>
    const observerOptions = {
      threshold: 0.3
    };

    const revealOnScroll = (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    };

    const observer = new IntersectionObserver(revealOnScroll, observerOptions);
    const targets = document.querySelectorAll('#interactive1, #watertankmap');
    targets.forEach(target => observer.observe(target));
  </script>

</body>

</html>
